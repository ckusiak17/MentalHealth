---
title: "Final Project Outline"
author: "Coco Kusiak, Joshua Freeman, and Luke Toomey"
date: "11/14/2017"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
require(plyr)
require(mosaic)
```


```{r loading_the_data, echo = FALSE}
mhfp <- read.csv("bstat743fp.csv")
mhfp <- plyr :: rename(mhfp, c("SLEPTIM1"="sleep", "SEX" = "sex", "EMPLOY1"="employ", "SXORIENT"="sexorient",  
                       "TRNSGNDR"="trans", "QLACTLM2"="actlimit", "MSCODE"="metro", "X_TOTINDA"="exer30", 
                       "X_RACE_G1"="race", "X_RFBMI5"="bmi",  "X_INCOMG"="income", "X_SMOKER3"="smoker",
                       "X_RFBING5"="binge", "X_LLCPWT"="weight"))
mhfp <- mutate(mhfp, male = ifelse(sex == 1, yes = 1, no = ifelse(sex == 2, yes = 0, no = NA)),
               sleep = ifelse(sleep == 99 | sleep == 77, yes = NA, no = sleep),
               sexorient = ifelse(sexorient == 1, yes = "straight", 
                                  no = ifelse(sexorient == 2, yes = "gay", 
                                              no = ifelse(sexorient == 3, "bisexual", 
                                                          no = ifelse(sexorient == 4, yes = "other", no = NA)))),
               exer30 = ifelse(exer30 == 1, yes = 1, 
                               no = ifelse(exer30 == 2, yes = 0, no =NA)),
               trans = ifelse(trans %in% c(1, 2, 3), yes = 1, 
                              no = ifelse(trans == 4, yes = 0, no = NA)),
               smoker = ifelse(smoker %in% c(1, 2), yes = 1, 
                               no = ifelse(smoker == 3, yes = 2, 
                                           no = ifelse(smoker == 4, yes = 0, no =NA))),
               income = ifelse(income == 9, yes = NA, no = income),
               actlimit = ifelse(actlimit %in% c(7, 9 ), yes = NA, no = actlimit),
               employ = ifelse(employ == 9, yes = NA, no = employ),
               bmi = ifelse(bmi == 1, yes = 0, no = ifelse(bmi == 2, yes = 1, no = NA)),
               binge = ifelse(binge == 1, yes = 0, no = ifelse(binge == 2, yes = 1, no =NA))
)
```  

```{r loading_the_data, echo = FALSE}
par(mfrow=c(3,4))
hist(mhfp$sleep, main="Sleep Hist.")
hist(mhfp$employ, main="Employment Hist.")
# hist(mhfp$sexorient, main="histogram of BMI in BRFSS")
# hist(mhfp$trans, main="histogram of BMI in BRFSS")
hist(mhfp$actlimit, main="Phys. Activ. Limits Hist.")
hist(mhfp$metro, main="Metropolitan Living Hist.")
hist(mhfp$exer30, main="Past 30 day Exercise")
hist(mhfp$race, main="Race Hist.")
hist(mhfp$bmi, main="Overweight (binary) Hist.")
hist(mhfp$income, main="Income Hist.")
hist(mhfp$smoker, main="Smoker Hist.")
hist(mhfp$binge, main="Binge Hist.")
hist(mhfp$male, main="Sex Hist.")

summary(mhfp$sleep)
table(mhfp$employ, useNA="ifany")
table(mhfp$sexorient, useNA="ifany")
table(mhfp$trans, useNA="ifany")
table(mhfp$actlimit, useNA="ifany")
table(mhfp$metro, useNA="ifany")
table(mhfp$exer30, useNA="ifany")
table(mhfp$race, useNA="ifany")
table(mhfp$bmi, useNA="ifany")
table(mhfp$income, useNA="ifany")
table(mhfp$smoker, useNA="ifany")
table(mhfp$binge, useNA="ifany")
table(mhfp$male, useNA="ifany")
```


#The Data

-subset of BRFSS data


#The Variables

##The Outcome  

QLMENTL2: felt depression symptoms in the last 30 days


##The Covariates  
  -binge: binary for binge drinking in last 30 days
  -exer30: binary for exercising in the last 30 days, 794 missing
  -metro: 4 levels of metropolitan status, 240,000 missing
  -race: 5 level race variable
  -income: 5 levels of income, 81,000 missing
  -employ: 9 levels employment status, 73 missing
  -sex: gender
  -sexorient: sexual orientation, 280,000 missing
  -trans: 6 level, 281,000 missing
  -smoker: 4 level smoking status, 19,000 missing
  -sleep: continuous number of hours of sleep within 24 hour period, 2 missing
  -bmi: Overweight or obese calculated variable
  -actlimit: Activity Limitation Due to Health Problems

 

 
#Individual Project: Josh  
I plan on analyzing the BRFSS data using complete case analysis and MCMC multiple imputation analysis using the MICE R package (https://cran.r-project.org/web/packages/mice/mice.pdf). In order to examine possible differences in findings due to missingness assuming Missing at Random or Missing Completely at Random.  This will allow inferences about the population distribution within the dataset and will conserve power in the multiple imputation analysis.  
 
#Individual Project: Coco
I plan on comparing LASSO, ridge regression, and step-wise regression methods for model selection. For LASSO and ridge regression, I plan on using the `glmnet` package. For step-wise selection, I'll use the `stepAIC()` function in the `MASS` package. I plan on comparing the performance between these three models using 10-fold cross validation. 

#Individual Project: Luke
